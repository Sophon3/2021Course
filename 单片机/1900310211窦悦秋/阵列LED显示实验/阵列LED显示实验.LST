C51 COMPILER V9.00   _列LED显示实验                                                       10/22/2021 16:28:30 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE _列LED显示实验
OBJECT MODULE PLACED IN 阵列LED显示实验.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE 阵列LED显示实验.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /***************************************************************************
   2          实验名称： 阵列LED显示实验
   3          
   4          实验模块:  51单片机核心板、矩阵LED区
   5          
   6          实验接线： 51单片机核心板------矩阵LED区
   7                    P0 ------------ J16
   8                    P2 ------------ J17
   9                    P1 ------------ J14
  10                    P3 ------------ J15
  11                    
  12          现象描述：矩阵LED循环显示“欢迎使用通用单片机实验装置”
  13          
  14          更新时间：2017.10.17
  15          ***************************************************************************/
  16          #include<reg52.h>
  17          #define uint unsigned int 
  18          #define uchar unsigned char
  19          
  20          /*uint code Tab[][32] = {
  21            {0xFF,0xFC,0xFF,0xFC,0x80,0xFC,0x9F,0x80,0x1F,0x9E,0x49,0xCE,0x03,0xF9,0x87,0xF9,  
  22            0xE7,0xF9,0xC3,0xF0,0x93,0xF0,0x19,0xE6,0x7C,0xE6,0x3F,0xCF,0x9F,0x9F,0xCF,0x3F}, //  "欢" 1
  23          
  24            {0xFF,0xFF,0xF3,0xFC,0x27,0x82,0x27,0x93,0x3F,0x93,0x3F,0x93,0x20,0x93,0x27,0x93,  
  25            0x27,0x93,0x27,0x80,0x27,0xC2,0x27,0xF3,0xE7,0xF3,0xC3,0xF3,0x19,0x00,0xFF,0xFF}, //  "迎" 2
  26            
  27            {0xE7,0xF9,0xE7,0xF9,0x07,0x00,0xF3,0xF9,0xF3,0xF9,0x11,0x80,0x91,0x99,0x90,0x99,       
  28            0x13,0x80,0xF3,0xF9,0x33,0xF9,0x73,0xF8,0xF3,0xFC,0x73,0xF8,0x33,0xE3,0x83,0x0F}, //  "使" 3
  29            
  30            {0xFF,0xFF,0x03,0xC0,0x73,0xCE,0x73,0xCE,0x73,0xCE,0x03,0xC0,0x73,0xCE,0x73,0xCE,  
  31            0x73,0xCE,0x03,0xC0,0x73,0xCE,0x73,0xCE,0x73,0xCE,0x79,0xCE,0x79,0xC2,0xFC,0xE7}, //  "用" 4
  32            
  33            {0xFF,0xFF,0x19,0xC0,0xF3,0xE7,0x73,0xF0,0xFF,0xF9,0x1F,0x80,0x90,0x99,0x93,0x99,  
  34            0x13,0x80,0x93,0x99,0x93,0x99,0x13,0x80,0x93,0x99,0x93,0x81,0x81,0xCF,0x0C,0x00}, //  "通" 5
  35            
  36            {0xFF,0xFF,0x03,0xC0,0x73,0xCE,0x73,0xCE,0x73,0xCE,0x03,0xC0,0x73,0xCE,0x73,0xCE,  
  37            0x73,0xCE,0x03,0xC0,0x73,0xCE,0x73,0xCE,0x73,0xCE,0x79,0xCE,0x79,0xC2,0xFC,0xE7}, //  "用" 6
  38            
  39            {0xE7,0xE7,0xCF,0xF3,0x9F,0xF9,0x03,0xC0,0x73,0xCE,0x73,0xCE,0x03,0xC0,0x73,0xCE,  
  40            0x73,0xCE,0x03,0xC0,0x7F,0xFE,0x7F,0xFE,0x00,0x00,0x7F,0xFE,0x7F,0xFE,0x7F,0xFE}, //  "单" 7
  41            
  42            {0xFF,0xF9,0xE7,0xF9,0xE7,0xF9,0xE7,0xF9,0xE7,0xF9,0x07,0x80,0xE7,0xFF,0xE7,0xFF,     
  43            0xE7,0xFF,0x07,0xF0,0xE7,0xF3,0xE7,0xF3,0xE7,0xF3,0xF3,0xF3,0xF3,0xF3,0xF9,0xF3}, //  "片" 8
  44            
  45            {0xE7,0xFF,0x67,0xE0,0x67,0xE6,0x67,0xE6,0x00,0xE6,0x67,0xE6,0x63,0xE6,0x43,0xE6,  
  46            0x01,0xE6,0x01,0xE6,0x64,0xE6,0x67,0x26,0x67,0x26,0x27,0x27,0x27,0x0F,0x87,0xFF}, //  "机" 9
  47            
  48            {0x3F,0xFF,0x7F,0xFE,0x01,0x00,0xF9,0x3F,0xCC,0x9C,0x9F,0xFC,0x9F,0xFC,0xE7,0xFC,  
  49            0xCF,0xFC,0xCF,0xFC,0x00,0x00,0x7F,0xF8,0x3F,0xF3,0x9F,0xE7,0xC7,0xCF,0xF1,0x9F}, //  "实" 10
  50            
  51            {0xFF,0xF3,0xC0,0xF3,0xCF,0xE1,0xC9,0xE1,0xC9,0xCC,0x49,0x9E,0x09,0x00,0x81,0xFF,  
  52            0x9F,0x99,0x9F,0x93,0x07,0x92,0x90,0xC0,0x99,0xCC,0x9F,0xE7,0x03,0x00,0xE7,0xFF}, //  "验" 11
  53          
  54            {0xCF,0xF3,0xC9,0xF3,0x03,0x00,0xCF,0xF3,0xC7,0xF3,0xC3,0xF3,0x48,0x80,0x0F,0xFF,  
  55            0x7F,0xFE,0x00,0x00,0x1F,0xFE,0x8F,0xCC,0x83,0xE1,0x18,0xE2,0x1F,0x0F,0x9F,0xFF}, //  "装" 12
C51 COMPILER V9.00   _列LED显示实验                                                       10/22/2021 16:28:30 PAGE 2   

  56            
  57            {0x01,0x80,0x99,0x99,0x01,0x80,0x7F,0xFE,0x01,0x80,0x7F,0xFE,0x07,0xE0,0xE7,0xE7,  
  58            0x07,0xE0,0xE7,0xE7,0x07,0xE0,0xE7,0xE7,0x07,0xE0,0xE7,0xE7,0x00,0x00,0xFF,0xFF}  //  "置" 13
  59            
  60            };*/
  61          /*0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  62             0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF, */
  63          uint code Tab[96]=
  64          {
  65             
  66          
  67             0xBF,0xFF,0x7F,0xFF,0x01,0x80,0xED,0xBB,0x76,0xD7,0x0B,0xE8,0x7F,0xFF,0x01,0xC0,
  68             0xDF,0xDE,0xB7,0xEE,0x6F,0xFF,0x00,0x80,0xBF,0xF9,0xDF,0xF7,0xE7,0xEF,0xF9,0xDF,
  69            
  70             0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  71             0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  72          };
  73          
  74          
  75          
  76          void mDelay(uint Delay) //延时
  77          { uchar i;
  78   1        for(;Delay > 0;Delay--)
  79   1          for(i = 0;i < 110;i++);
  80   1      }
  81          
  82          void main()       //主函数
  83          {
  84   1        uchar i,j,a,b,c;
  85   1        uint k;
  86   1        /*while(1)
  87   1        { 
  88   1          for(i = 0;i < 13;i++)       //显示13个字（欢迎使用通用单片机实验装置）
  89   1          {
  90   1            
  91   1            for(k = 0;k < 100;k++)        //每一个字扫描显示100次
  92   1            {
  93   1              P1 = 0;             //设置初始值
  94   1              P3 = 0;
  95   1              a = 1;
  96   1              b = 1;
  97   1              for(j = 0;j < 16;j++)     //扫描16行点阵
  98   1              {
  99   1                P0 = Tab[i][j*2];   //扫描每一行的前八位
 100   1                P2 = Tab[i][j*2+1];   //扫描每一行的后八位
 101   1                
 102   1                if(j < 8)       //前八行设置哪一行显示
 103   1                {
 104   1                  P1 = P1|a;      //当前显示的那一行置高
 105   1                  mDelay(1);
 106   1                  P1 = P1&0;
 107   1                  a *= 2;
 108   1                }
 109   1                else          //后八行设置哪一行显示
 110   1                {
 111   1                  P3 = P1|b;      //当前显示的那一行置高
 112   1                  mDelay(1);
 113   1                  P3 = P3&0;
 114   1                  b *= 2; 
 115   1                }
 116   1              }       
 117   1            }
C51 COMPILER V9.00   _列LED显示实验                                                       10/22/2021 16:28:30 PAGE 3   

 118   1          }
 119   1          }*/
 120   1          
 121   1          while(1){
 122   2            for(c=0;c<48;c++){
 123   3              for(k = 0;k < 10;k++){
 124   4                P1 = 0;             //设置初始值
 125   4                P3 = 0;
 126   4                a = 1;
 127   4                b = 1;
 128   4                
 129   4                
 130   4                for(j = c;j < c+16;j++)     //扫描16行点阵
 131   4                {
 132   5                    P0 = Tab[(j+c)*2];    //扫描每一行的前八位
 133   5                    P2 = Tab[(j+c)*2+1];    //扫描每一行的后八位
 134   5                    
 135   5                    if(j < 8)       //前八行设置哪一行显示
 136   5                    {
 137   6                      P1 = P1|a;      //当前显示的那一行置高
 138   6                      mDelay(1);
 139   6                      P1 = P1&0;
 140   6                      a *= 2;
 141   6                    }
 142   5                    else          //后八行设置哪一行显示
 143   5                    {
 144   6                      P3 = P3|b;      //当前显示的那一行置高
 145   6                      mDelay(1);
 146   6                      P3 = P3&0;
 147   6                      b *= 2; 
 148   6                    }
 149   5                } 
 150   4              }
 151   3           }
 152   2          }
 153   1          
 154   1      }
*** WARNING C280 IN LINE 84 OF 阵列LED显示实验.C: 'i': unreferenced local variable


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    188    ----
   CONSTANT SIZE    =    192    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
