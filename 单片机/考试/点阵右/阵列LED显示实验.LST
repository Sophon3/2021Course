C51 COMPILER V9.57.0.0   ____LED________                                                   11/16/2021 17:55:12 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE ____LED________
OBJECT MODULE PLACED IN 阵列LED显示实验.OBJ
COMPILER INVOKED BY: E:\APP\keil5\KEIL_5\C51\BIN\C51.EXE 阵列LED显示实验.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND T
                    -ABS(2)

line level    source

   1          
   2          /*
   3          P0，P2接“点阵LED”的J16、J17（列）；P1，P3接“点阵LED”的J14、J15（行）
   4          取模：阳码，逐行。C51
   5          */
   6          #include<reg52.h>
   7          #define uint unsigned int 
   8          #define uchar unsigned char
   9          
  10          /*uint code Tab[][96] = {
  11            {
  12              0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  13             0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  14              0xBF,0xFF,0x7F,0xFF,0x01,0x80,0xED,0xBB,0x76,0xD7,0x0B,0xE8,0x7F,0xFF,0x01,0xC0,
  15             0xDF,0xDE,0xB7,0xEE,0x6F,0xFF,0x00,0x80,0xBF,0xF9,0xDF,0xF7,0xE7,0xEF,0xF9,0xDF,
  16            0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  17             0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF},
  18          
  19            };*/
  20            uint code Tab[][128] = {
  21            {
  22              
  23          0x00,0x40,0x00,0x30,0xFC,0x0F,0x44,0x00,0x54,0xFD,0x54,0x45,0x54,0x45,0x55,0x45,
  24          0xFE,0x47,0x54,0x45,0x54,0x45,0x54,0x45,0xF4,0xFD,0x44,0x00,0x44,0x00,0x00,0x00,/*"唐",0*/
  25          
  26          0x00,0x40,0x00,0x20,0x00,0x18,0xFC,0x07,0x44,0x00,0x44,0xFC,0x44,0x44,0x45,0x44,
  27          0x46,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x7C,0xFC,0x00,0x00,0x00,0x00,/*"启",1*/
  28          
  29          0x00,0x82,0x08,0x42,0x08,0x31,0x88,0x00,0x48,0x00,0x28,0x10,0x18,0x60,0xFF,0x07,
  30          0x18,0x10,0x28,0x60,0x48,0x00,0x88,0x00,0x08,0x11,0x08,0xE2,0x00,0x02,0x00,0x00,/*"杰",2*/
  31          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  32          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  33            }
  34          };//
  35          
  36          void mDelay(uint Delay) //延时
  37          { uchar i;
  38   1        for(;Delay > 0;Delay--)
  39   1          for(i = 0;i < 110;i++);
  40   1      }
  41          
  42          void main()       //主函数
  43          {
  44   1        unsigned char j,i,n;
  45   1        unsigned int k;
  46   1        while(1)
  47   1        { 
  48   2          for(i=64;i>0;i--){
  49   3            for(k = 0;k < 10;k++)       //每一个字扫描显示100次
  50   3            {
  51   4              P0 = 0xff;              //设置初始值
  52   4              P2 = 0xff;
  53   4              for(j = 0;j < 16;j++)     //扫描16行点阵
  54   4              {
C51 COMPILER V9.57.0.0   ____LED________                                                   11/16/2021 17:55:12 PAGE 2   

  55   5                P1 = Tab[0][(j+i)*2];   //扫描每一行的前八位
  56   5                P3 = Tab[0][(j+i)*2+1];   //扫描每一行的后八位
  57   5                
  58   5                if(j < 8)       //前八行设置哪一行显示
  59   5                {
  60   6                  P0 = ~(0x01<<j);      //当前显示的那一行置高
  61   6                  mDelay(1);
  62   6                  P0 = 0xff;
  63   6                }
  64   5                else          //后八行设置哪一行显示
  65   5                {
  66   6                  n=j%8;
  67   6                  P2 = ~(0x01<<n);      //当前显示的那一行置高
  68   6                  mDelay(1);
  69   6                  P2 = 0xff;
  70   6                }
  71   5              }       
  72   4            }
  73   3          }
  74   2        }
  75   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    181    ----
   CONSTANT SIZE    =    256    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
